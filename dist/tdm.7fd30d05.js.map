{"mappings":"ACCA,MAAM,EAAW,OAAO,QAAQ,CAAC,MAAM,CAEvC,SAAS,IACP,OAAO,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM,EAAE,GAAG,CAAC,UAAY,EACrE,CAEA,eAAe,IACb,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,CAAA,EAAG,EAAS,gBAAgB,CAAC,CAAE,CACrD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,CAChD,GACM,EAAO,MAAM,EAAI,IAAI,GAE3B,GAAI,EAAI,EAAE,EAAI,EAAK,OAAO,EAAI,EAAK,SAAS,CAAE,CAC5C,IAAM,EAAY,GAClB,CAAA,OAAO,QAAQ,CAAC,IAAI,CAClB,CAAC,gCAAgC,EAAE,mBAAmB,GACrD,SAAS,EAAE,mBAAmB,EAAK,OAAO,EAC1C,MAAM,EAAE,mBAAmB,EAAK,SAAS,EAAA,UAAA,CAFwB,AAItE,MACE,MAAM,4BAA+B,CAAA,EAAK,KAAK,EAAI,eAAA,EAEvD,CAAE,MAAO,EAAK,CACZ,MAAM,kCAAoC,EAAI,OAAO,CACvD,CACF,CAEA,SAAS,IACP,IAAM,EAAO,OAAO,wBACpB,GAAI,CAAC,EAAM,OACX,IAAM,EAAY,GAClB,CAAA,OAAO,QAAQ,CAAC,IAAI,CAClB,CAAC,gCAAgC,EAAE,mBAAmB,GACrD,MAAM,EAAE,mBAAmB,EAAK,IAAI,IAAA,WAAA,CAD6B,AAGtE,CAEA,SAAS,IACP,IAAM,EAAY,GAClB,CAAA,OAAO,QAAQ,CAAC,IAAI,CAClB,CAAC,4BAA4B,EAAE,mBAAmB,GAAA,SAAA,CAAY,AAElE,CAEA,SAAS,gBAAgB,CAAC,mBAAoB,KAE5C,IAAM,EAAa,SAAS,cAAc,CAAC,oBAC3C,EAAW,aAAa,CAAC,OAAO,gBAAgB,CAAC,QAAS,GAC1D,EAAW,aAAa,CAAC,eAAe,gBAAgB,CAAC,QAAS,GAGlE,IAAM,EAAW,SAAS,cAAc,CAAC,kBACzC,EAAS,aAAa,CAAC,OAAO,gBAAgB,CAAC,QAAS,GACxD,EAAS,aAAa,CAAC,eAAe,gBAAgB,CAAC,QAAS,GAGhE,IAAM,EAAW,SAAS,cAAc,CAAC,oBACzC,EAAS,aAAa,CAAC,OAAO,gBAAgB,CAAC,QAAS,GACxD,EAAS,aAAa,CAAC,eAAe,gBAAgB,CAAC,QAAS,EAClE","sources":["<anon>","src/tdm.js"],"sourcesContent":["var $c58d914863cdd924$exports = {};\n// src/tdm.js\nconst $c58d914863cdd924$var$API_BASE = window.location.origin;\nfunction $c58d914863cdd924$var$getEventCode() {\n    return new URLSearchParams(window.location.search).get('event') || '';\n}\nasync function $c58d914863cdd924$var$createRoom() {\n    try {\n        const res = await fetch(`${$c58d914863cdd924$var$API_BASE}/api/create-room`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        const data = await res.json();\n        if (res.ok && data.room_id && data.room_code) {\n            const eventCode = $c58d914863cdd924$var$getEventCode();\n            window.location.href = `roleplayscenarioteam.html?event=${encodeURIComponent(eventCode)}` + `&room_id=${encodeURIComponent(data.room_id)}` + `&code=${encodeURIComponent(data.room_code)}` + `&mode=host`;\n        } else alert(\"\\u274C Failed to create room: \" + (data.error || 'Unknown error'));\n    } catch (err) {\n        alert(\"\\u274C Network error creating room: \" + err.message);\n    }\n}\nfunction $c58d914863cdd924$var$joinRoom() {\n    const code = prompt('Enter the room code:');\n    if (!code) return;\n    const eventCode = $c58d914863cdd924$var$getEventCode();\n    window.location.href = `roleplayscenarioteam.html?event=${encodeURIComponent(eventCode)}` + `&code=${encodeURIComponent(code.trim())}` + `&mode=guest`;\n}\nfunction $c58d914863cdd924$var$sameDevice() {\n    const eventCode = $c58d914863cdd924$var$getEventCode();\n    window.location.href = `roleplayscenario.html?event=${encodeURIComponent(eventCode)}` + `&tdm=true`;\n}\ndocument.addEventListener('DOMContentLoaded', ()=>{\n    // Create Room card\n    const createCard = document.getElementById('create-room-card');\n    createCard.querySelector('img').addEventListener('click', $c58d914863cdd924$var$createRoom);\n    createCard.querySelector('.click-here').addEventListener('click', $c58d914863cdd924$var$createRoom);\n    // Join Room card\n    const joinCard = document.getElementById('join-room-card');\n    joinCard.querySelector('img').addEventListener('click', $c58d914863cdd924$var$joinRoom);\n    joinCard.querySelector('.click-here').addEventListener('click', $c58d914863cdd924$var$joinRoom);\n    // Same Device card\n    const sameCard = document.getElementById('same-device-card');\n    sameCard.querySelector('img').addEventListener('click', $c58d914863cdd924$var$sameDevice);\n    sameCard.querySelector('.click-here').addEventListener('click', $c58d914863cdd924$var$sameDevice);\n});\n\n\n//# sourceMappingURL=tdm.7fd30d05.js.map\n","// src/tdm.js\nconst API_BASE = window.location.origin;\n\nfunction getEventCode() {\n  return new URLSearchParams(window.location.search).get('event') || '';\n}\n\nasync function createRoom() {\n  try {\n    const res = await fetch(`${API_BASE}/api/create-room`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' }\n    });\n    const data = await res.json();\n\n    if (res.ok && data.room_id && data.room_code) {\n      const eventCode = getEventCode();\n      window.location.href =\n        `roleplayscenarioteam.html?event=${encodeURIComponent(eventCode)}` +\n        `&room_id=${encodeURIComponent(data.room_id)}` +\n        `&code=${encodeURIComponent(data.room_code)}` +\n        `&mode=host`;\n    } else {\n      alert('❌ Failed to create room: ' + (data.error || 'Unknown error'));\n    }\n  } catch (err) {\n    alert('❌ Network error creating room: ' + err.message);\n  }\n}\n\nfunction joinRoom() {\n  const code = prompt('Enter the room code:');\n  if (!code) return;\n  const eventCode = getEventCode();\n  window.location.href =\n    `roleplayscenarioteam.html?event=${encodeURIComponent(eventCode)}` +\n    `&code=${encodeURIComponent(code.trim())}` +\n    `&mode=guest`;\n}\n\nfunction sameDevice() {\n  const eventCode = getEventCode();\n  window.location.href =\n    `roleplayscenario.html?event=${encodeURIComponent(eventCode)}` +\n    `&tdm=true`;\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Create Room card\n  const createCard = document.getElementById('create-room-card');\n  createCard.querySelector('img').addEventListener('click', createRoom);\n  createCard.querySelector('.click-here').addEventListener('click', createRoom);\n\n  // Join Room card\n  const joinCard = document.getElementById('join-room-card');\n  joinCard.querySelector('img').addEventListener('click', joinRoom);\n  joinCard.querySelector('.click-here').addEventListener('click', joinRoom);\n\n  // Same Device card\n  const sameCard = document.getElementById('same-device-card');\n  sameCard.querySelector('img').addEventListener('click', sameDevice);\n  sameCard.querySelector('.click-here').addEventListener('click', sameDevice);\n});"],"names":["$c58d914863cdd924$var$API_BASE","window","location","origin","$c58d914863cdd924$var$getEventCode","URLSearchParams","search","get","$c58d914863cdd924$var$createRoom","res","fetch","method","headers","data","json","ok","room_id","room_code","eventCode","href","encodeURIComponent","alert","error","err","message","$c58d914863cdd924$var$joinRoom","code","prompt","trim","$c58d914863cdd924$var$sameDevice","document","addEventListener","createCard","getElementById","querySelector","joinCard","sameCard"],"version":3,"file":"tdm.7fd30d05.js.map"}